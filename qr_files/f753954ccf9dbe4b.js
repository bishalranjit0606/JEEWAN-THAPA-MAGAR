(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,159166,e=>{"use strict";let t="qrFormData",r=null;async function n(){return r||new Promise((e,n)=>{let o=indexedDB.open("PixelQR",1);o.onerror=()=>n(o.error),o.onsuccess=()=>{e(r=o.result)},o.onupgradeneeded=e=>{let r=e.target.result;r.objectStoreNames.contains(t)||r.createObjectStore(t,{keyPath:"id"})}})}async function o(e,r){let o=(await n()).transaction([t],"readwrite").objectStore(t);return new Promise((t,n)=>{let i=o.put({id:e,data:r,lastUpdated:new Date().toISOString()});i.onsuccess=()=>t(),i.onerror=()=>n(i.error)})}async function i(e){let r=(await n()).transaction([t],"readonly").objectStore(t);return new Promise((t,n)=>{let o=r.get(e);o.onsuccess=()=>{let e=o.result;t(e&&e.data?e.data:null)},o.onerror=()=>n(o.error)})}async function a(){let e=(await n()).transaction([t],"readwrite").objectStore(t);return new Promise((t,r)=>{let n=e.clear();n.onsuccess=()=>t(),n.onerror=()=>r(n.error)})}function s(e,t){(async()=>{await o(e,t)})().catch(e=>{console.error("Error guardando datos:",e)})}async function l(e){return await i(e)}function u(){(async()=>{await a()})().catch(e=>{console.error("Error limpiando storage:",e)})}e.s(["clearAllStepsData",()=>u,"loadStepDataAsync",()=>l,"saveStepData",()=>s])},30030,e=>{"use strict";var t=e.i(271645),r=e.i(843476);function n(e,n){let o=t.createContext(n),i=e=>{let{children:n,...i}=e,a=t.useMemo(()=>i,Object.values(i));return(0,r.jsx)(o.Provider,{value:a,children:n})};return i.displayName=e+"Provider",[i,function(r){let i=t.useContext(o);if(i)return i;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function o(e,n=[]){let i=[],a=()=>{let r=i.map(e=>t.createContext(e));return function(n){let o=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return a.scopeName=e,[function(n,o){let a=t.createContext(o),s=i.length;i=[...i,o];let l=n=>{let{scope:o,children:i,...l}=n,u=o?.[e]?.[s]||a,c=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(u.Provider,{value:c,children:i})};return l.displayName=n+"Provider",[l,function(r,i){let l=i?.[e]?.[s]||a,u=t.useContext(l);if(u)return u;if(void 0!==o)return o;throw Error(`\`${r}\` must be used within \`${n}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=n.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}(a,...n)]}e.s(["createContext",()=>n,"createContextScope",()=>o])},248425,e=>{"use strict";var t=e.i(271645),r=e.i(174080),n=e.i(991918),o=e.i(843476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,n.createSlot)(`Primitive.${r}`),a=t.forwardRef((e,t)=>{let{asChild:n,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(n?i:r,{...a,ref:t})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function a(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>a])},934620,e=>{"use strict";var t=e.i(271645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},635804,e=>{"use strict";var t=e.i(271645),r=e.i(934620);function n(e){let[n,o]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;o({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}o(void 0)},[e]),n}e.s(["useSize",()=>n])},369340,e=>{"use strict";var t=e.i(271645),r=e.i(934620);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var n=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function o({prop:e,defaultProp:r,onChange:o=()=>{},caller:i}){let[a,s,l]=function({defaultProp:e,onChange:r}){let[o,i]=t.useState(e),a=t.useRef(o),s=t.useRef(r);return n(()=>{s.current=r},[r]),t.useEffect(()=>{a.current!==o&&(s.current?.(o),a.current=o)},[o,a]),[o,i,s]}({defaultProp:r,onChange:o}),u=void 0!==e,c=u?e:a;{let r=t.useRef(void 0!==e);t.useEffect(()=>{let e=r.current;if(e!==u){let t=u?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=u},[u,i])}return[c,t.useCallback(t=>{if(u){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else s(t)},[u,e,s,l])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>o],369340)},981140,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t])},726330,853660,959411,e=>{"use strict";var t,r=e.i(271645),n=e.i(981140),o=e.i(248425),i=e.i(820783),a=e.i(30207),s=e.i(126083),l=e.i(843476),u="dismissableLayer.update",c=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d=r.forwardRef((e,d)=>{let{disableOutsidePointerEvents:m=!1,onEscapeKeyDown:v,onPointerDownOutside:h,onFocusOutside:y,onInteractOutside:g,onDismiss:x,...w}=e,b=r.useContext(c),[E,C]=r.useState(null),P=E?.ownerDocument??globalThis?.document,[,T]=r.useState({}),S=(0,i.useComposedRefs)(d,e=>C(e)),R=Array.from(b.layers),[N]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),L=R.indexOf(N),O=E?R.indexOf(E):-1,j=b.layersWithOutsidePointerEventsDisabled.size>0,D=O>=L,A=function(e,t=globalThis?.document){let n=(0,a.useCallbackRef)(e),o=r.useRef(!1),i=r.useRef(()=>{});return r.useEffect(()=>{let e=e=>{if(e.target&&!o.current){let r=function(){f("dismissableLayer.pointerDownOutside",n,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);o.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}(e=>{let t=e.target,r=[...b.branches].some(e=>e.contains(t));D&&!r&&(h?.(e),g?.(e),e.defaultPrevented||x?.())},P),k=function(e,t=globalThis?.document){let n=(0,a.useCallbackRef)(e),o=r.useRef(!1);return r.useEffect(()=>{let e=e=>{e.target&&!o.current&&f("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{let t=e.target;![...b.branches].some(e=>e.contains(t))&&(y?.(e),g?.(e),e.defaultPrevented||x?.())},P);return(0,s.useEscapeKeydown)(e=>{O===b.layers.size-1&&(v?.(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))},P),r.useEffect(()=>{if(E)return m&&(0===b.layersWithOutsidePointerEventsDisabled.size&&(t=P.body.style.pointerEvents,P.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(E)),b.layers.add(E),p(),()=>{m&&1===b.layersWithOutsidePointerEventsDisabled.size&&(P.body.style.pointerEvents=t)}},[E,P,m,b]),r.useEffect(()=>()=>{E&&(b.layers.delete(E),b.layersWithOutsidePointerEventsDisabled.delete(E),p())},[E,b]),r.useEffect(()=>{let e=()=>T({});return document.addEventListener(u,e),()=>document.removeEventListener(u,e)},[]),(0,l.jsx)(o.Primitive.div,{...w,ref:S,style:{pointerEvents:j?D?"auto":"none":void 0,...e.style},onFocusCapture:(0,n.composeEventHandlers)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,n.composeEventHandlers)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,n.composeEventHandlers)(e.onPointerDownCapture,A.onPointerDownCapture)})});function p(){let e=new CustomEvent(u);document.dispatchEvent(e)}function f(e,t,r,{discrete:n}){let i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,o.dispatchDiscreteCustomEvent)(i,a):i.dispatchEvent(a)}d.displayName="DismissableLayer",r.forwardRef((e,t)=>{let n=r.useContext(c),a=r.useRef(null),s=(0,i.useComposedRefs)(t,a);return r.useEffect(()=>{let e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,l.jsx)(o.Primitive.div,{...e,ref:s})}).displayName="DismissableLayerBranch",e.s(["DismissableLayer",()=>d],726330);var m=e.i(258950),v=e.i(953760),h=e.i(553289),y=e.i(30030),g=e.i(934620),x=e.i(635804),w="Popper",[b,E]=(0,y.createContextScope)(w),[C,P]=b(w),T=e=>{let{__scopePopper:t,children:n}=e,[o,i]=r.useState(null);return(0,l.jsx)(C,{scope:t,anchor:o,onAnchorChange:i,children:n})};T.displayName=w;var S="PopperAnchor",R=r.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:a,...s}=e,u=P(S,n),c=r.useRef(null),d=(0,i.useComposedRefs)(t,c);return r.useEffect(()=>{u.onAnchorChange(a?.current||c.current)}),a?null:(0,l.jsx)(o.Primitive.div,{...s,ref:d})});R.displayName=S;var N="PopperContent",[L,O]=b(N),j=r.forwardRef((e,t)=>{let{__scopePopper:n,side:s="bottom",sideOffset:u=0,align:c="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:b=!1,updatePositionStrategy:E="optimized",onPlaced:C,...T}=e,S=P(N,n),[R,O]=r.useState(null),j=(0,i.useComposedRefs)(t,e=>O(e)),[D,A]=r.useState(null),k=(0,x.useSize)(D),$=k?.width??0,H=k?.height??0,z="number"==typeof y?y:{top:0,right:0,bottom:0,left:0,...y},U=Array.isArray(h)?h:[h],W=U.length>0,B={padding:z,boundary:U.filter(M),altBoundary:W},{refs:F,floatingStyles:Y,placement:X,isPositioned:K,middlewareData:V}=(0,m.useFloating)({strategy:"fixed",placement:s+("center"!==c?"-"+c:""),whileElementsMounted:(...e)=>(0,v.autoUpdate)(...e,{animationFrame:"always"===E}),elements:{reference:S.anchor},middleware:[(0,m.offset)({mainAxis:u+H,alignmentAxis:d}),f&&(0,m.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?(0,m.limitShift)():void 0,...B}),f&&(0,m.flip)({...B}),(0,m.size)({...B,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${n}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),D&&(0,m.arrow)({element:D,padding:p}),I({arrowWidth:$,arrowHeight:H}),b&&(0,m.hide)({strategy:"referenceHidden",...B})]}),[q,Q]=_(X),G=(0,a.useCallbackRef)(C);(0,g.useLayoutEffect)(()=>{K&&G?.()},[K,G]);let J=V.arrow?.x,Z=V.arrow?.y,ee=V.arrow?.centerOffset!==0,[et,er]=r.useState();return(0,g.useLayoutEffect)(()=>{R&&er(window.getComputedStyle(R).zIndex)},[R]),(0,l.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:K?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(L,{scope:n,placedSide:q,onArrowChange:A,arrowX:J,arrowY:Z,shouldHideArrow:ee,children:(0,l.jsx)(o.Primitive.div,{"data-side":q,"data-align":Q,...T,ref:j,style:{...T.style,animation:K?void 0:"none"}})})})});j.displayName=N;var D="PopperArrow",A={top:"bottom",right:"left",bottom:"top",left:"right"},k=r.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,o=O(D,r),i=A[o.placedSide];return(0,l.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(h.Root,{...n,ref:t,style:{...n.style,display:"block"}})})});function M(e){return null!==e}k.displayName=D;var I=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,i=o.arrow?.centerOffset!==0,a=i?0:e.arrowWidth,s=i?0:e.arrowHeight,[l,u]=_(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(o.arrow?.x??0)+a/2,p=(o.arrow?.y??0)+s/2,f="",m="";return"bottom"===l?(f=i?c:`${d}px`,m=`${-s}px`):"top"===l?(f=i?c:`${d}px`,m=`${n.floating.height+s}px`):"right"===l?(f=`${-s}px`,m=i?c:`${p}px`):"left"===l&&(f=`${n.floating.width+s}px`,m=i?c:`${p}px`),{data:{x:f,y:m}}}});function _(e){let[t,r="center"]=e.split("-");return[t,r]}e.s(["Anchor",()=>R,"Arrow",()=>k,"Content",()=>j,"Root",()=>T,"createPopperScope",()=>E],853660);var $=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H=r.forwardRef((e,t)=>(0,l.jsx)(o.Primitive.span,{...e,ref:t,style:{...$,...e.style}}));H.displayName="VisuallyHidden",e.s(["Root",()=>H,"VISUALLY_HIDDEN_STYLES",()=>$],959411)},383534,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(981140),o=e.i(820783),i=e.i(30030),a=e.i(726330),s=e.i(610772),l=e.i(853660),u=e.i(774606),c=e.i(934620),d=e=>{var t;let n,i,{present:a,children:s}=e,l=function(e){var t,n;let[o,i]=r.useState(),a=r.useRef(null),s=r.useRef(e),l=r.useRef("none"),[u,d]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=p(a.current);l.current="mounted"===u?e:"none"},[u]),(0,c.useLayoutEffect)(()=>{let t=a.current,r=s.current;if(r!==e){let n=l.current,o=p(t);e?d("MOUNT"):"none"===o||t?.display==="none"?d("UNMOUNT"):r&&n!==o?d("ANIMATION_OUT"):d("UNMOUNT"),s.current=e}},[e,d]),(0,c.useLayoutEffect)(()=>{if(o){let e,t=o.ownerDocument.defaultView??window,r=r=>{let n=p(a.current).includes(r.animationName);if(r.target===o&&n&&(d("ANIMATION_END"),!s.current)){let r=o.style.animationFillMode;o.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=r)})}},n=e=>{e.target===o&&(l.current=p(a.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r),()=>{t.clearTimeout(e),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",r),o.removeEventListener("animationend",r)}}d("ANIMATION_END")},[o,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(e=>{a.current=e?getComputedStyle(e):null,i(e)},[])}}(a),u="function"==typeof s?s({present:l.isPresent}):r.Children.only(s),d=(0,o.useComposedRefs)(l.ref,(t=u,(i=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(i=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||l.isPresent?r.cloneElement(u,{ref:d}):null};function p(e){return e?.animationName||"none"}d.displayName="Presence";var f=e.i(248425),m=e.i(991918),v=e.i(369340),h=e.i(959411),[y,g]=(0,i.createContextScope)("Tooltip",[l.createPopperScope]),x=(0,l.createPopperScope)(),w="TooltipProvider",b="tooltip.open",[E,C]=y(w),P=e=>{let{__scopeTooltip:n,delayDuration:o=700,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:s}=e,l=r.useRef(!0),u=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(E,{scope:n,isOpenDelayedRef:l,delayDuration:o,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:r.useCallback(e=>{u.current=e},[]),disableHoverableContent:a,children:s})};P.displayName=w;var T="Tooltip",[S,R]=y(T),N=e=>{let{__scopeTooltip:n,children:o,open:i,defaultOpen:a,onOpenChange:u,disableHoverableContent:c,delayDuration:d}=e,p=C(T,e.__scopeTooltip),f=x(n),[m,h]=r.useState(null),y=(0,s.useId)(),g=r.useRef(0),w=c??p.disableHoverableContent,E=d??p.delayDuration,P=r.useRef(!1),[R,N]=(0,v.useControllableState)({prop:i,defaultProp:a??!1,onChange:e=>{e?(p.onOpen(),document.dispatchEvent(new CustomEvent(b))):p.onClose(),u?.(e)},caller:T}),L=r.useMemo(()=>R?P.current?"delayed-open":"instant-open":"closed",[R]),O=r.useCallback(()=>{window.clearTimeout(g.current),g.current=0,P.current=!1,N(!0)},[N]),j=r.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N(!1)},[N]),D=r.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{P.current=!0,N(!0),g.current=0},E)},[E,N]);return r.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),(0,t.jsx)(l.Root,{...f,children:(0,t.jsx)(S,{scope:n,contentId:y,open:R,stateAttribute:L,trigger:m,onTriggerChange:h,onTriggerEnter:r.useCallback(()=>{p.isOpenDelayedRef.current?D():O()},[p.isOpenDelayedRef,D,O]),onTriggerLeave:r.useCallback(()=>{w?j():(window.clearTimeout(g.current),g.current=0)},[j,w]),onOpen:O,onClose:j,disableHoverableContent:w,children:o})})};N.displayName=T;var L="TooltipTrigger",O=r.forwardRef((e,i)=>{let{__scopeTooltip:a,...s}=e,u=R(L,a),c=C(L,a),d=x(a),p=r.useRef(null),m=(0,o.useComposedRefs)(i,p,u.onTriggerChange),v=r.useRef(!1),h=r.useRef(!1),y=r.useCallback(()=>v.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,t.jsx)(l.Anchor,{asChild:!0,...d,children:(0,t.jsx)(f.Primitive.button,{"aria-describedby":u.open?u.contentId:void 0,"data-state":u.stateAttribute,...s,ref:m,onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||c.isPointerInTransitRef.current||(u.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,n.composeEventHandlers)(e.onPointerLeave,()=>{u.onTriggerLeave(),h.current=!1}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,()=>{u.open&&u.onClose(),v.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{v.current||u.onOpen()}),onBlur:(0,n.composeEventHandlers)(e.onBlur,u.onClose),onClick:(0,n.composeEventHandlers)(e.onClick,u.onClose)})})});O.displayName=L;var j="TooltipPortal",[D,A]=y(j,{forceMount:void 0}),k=e=>{let{__scopeTooltip:r,forceMount:n,children:o,container:i}=e,a=R(j,r);return(0,t.jsx)(D,{scope:r,forceMount:n,children:(0,t.jsx)(d,{present:n||a.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:i,children:o})})})};k.displayName=j;var M="TooltipContent",I=r.forwardRef((e,r)=>{let n=A(M,e.__scopeTooltip),{forceMount:o=n.forceMount,side:i="top",...a}=e,s=R(M,e.__scopeTooltip);return(0,t.jsx)(d,{present:o||s.open,children:s.disableHoverableContent?(0,t.jsx)(U,{side:i,...a,ref:r}):(0,t.jsx)(_,{side:i,...a,ref:r})})}),_=r.forwardRef((e,n)=>{let i=R(M,e.__scopeTooltip),a=C(M,e.__scopeTooltip),s=r.useRef(null),l=(0,o.useComposedRefs)(n,s),[u,c]=r.useState(null),{trigger:d,onClose:p}=i,f=s.current,{onPointerInTransitChange:m}=a,v=r.useCallback(()=>{c(null),m(!1)},[m]),h=r.useCallback((e,t)=>{let r,n=e.currentTarget,o={x:e.clientX,y:e.clientY},i=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(o,n.getBoundingClientRect());c(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(o,i),...function(e){let{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),m(!0)},[m]);return r.useEffect(()=>()=>v(),[v]),r.useEffect(()=>{if(d&&f){let e=e=>h(e,f),t=e=>h(e,d);return d.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[d,f,h,v]),r.useEffect(()=>{if(u){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=d?.contains(t)||f?.contains(t),o=!function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let a=t[e],s=t[i],l=a.x,u=a.y,c=s.x,d=s.y;u>n!=d>n&&r<(c-l)*(n-u)/(d-u)+l&&(o=!o)}return o}(r,u);n?v():o&&(v(),p())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,f,u,p,v]),(0,t.jsx)(U,{...e,ref:l})}),[$,H]=y(T,{isInside:!1}),z=(0,m.createSlottable)("TooltipContent"),U=r.forwardRef((e,n)=>{let{__scopeTooltip:o,children:i,"aria-label":s,onEscapeKeyDown:u,onPointerDownOutside:c,...d}=e,p=R(M,o),f=x(o),{onClose:m}=p;return r.useEffect(()=>(document.addEventListener(b,m),()=>document.removeEventListener(b,m)),[m]),r.useEffect(()=>{if(p.trigger){let e=e=>{let t=e.target;t?.contains(p.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[p.trigger,m]),(0,t.jsx)(a.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,t.jsxs)(l.Content,{"data-state":p.stateAttribute,...f,...d,ref:n,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(z,{children:i}),(0,t.jsx)($,{scope:o,isInside:!0,children:(0,t.jsx)(h.Root,{id:p.contentId,role:"tooltip",children:s||i})})]})})});I.displayName=M;var W="TooltipArrow",B=r.forwardRef((e,r)=>{let{__scopeTooltip:n,...o}=e,i=x(n);return H(W,n).isInside?null:(0,t.jsx)(l.Arrow,{...i,...o,ref:r})});B.displayName=W;var F=e.i(157851);function Y({delayDuration:e=0,...r}){return(0,t.jsx)(P,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function X({...e}){return(0,t.jsx)(Y,{children:(0,t.jsx)(N,{"data-slot":"tooltip",...e})})}function K({...e}){return(0,t.jsx)(O,{"data-slot":"tooltip-trigger",...e})}function V({className:e,sideOffset:r=0,children:n,...o}){return(0,t.jsx)(k,{children:(0,t.jsxs)(I,{"data-slot":"tooltip-content",sideOffset:r,className:(0,F.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...o,children:[n,(0,t.jsx)(B,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}e.s(["Tooltip",()=>X,"TooltipContent",()=>V,"TooltipProvider",()=>Y,"TooltipTrigger",()=>K],383534)}]);